/******************************************************************************/
/****         Generated by IBExpert 2006.12.13 11/02/2024 18:39:55         ****/
/******************************************************************************/

SET SQL DIALECT 3;

CREATE DATABASE 'LOCALHOST:C:\loja\database\store.gdb'
USER 'SYSDBA' PASSWORD 'masterkey'
PAGE_SIZE 4096;



/******************************************************************************/
/****                               Domains                                ****/
/******************************************************************************/

CREATE DOMAIN BAIRRO AS
VARCHAR(30) CHARACTER SET NONE;

CREATE DOMAIN CATEGORIA AS
VARCHAR(20) CHARACTER SET NONE;

CREATE DOMAIN CEP AS
VARCHAR(10) CHARACTER SET NONE;

CREATE DOMAIN CIDADE AS
VARCHAR(25) CHARACTER SET NONE;

CREATE DOMAIN CODIGO AS
INTEGER
NOT NULL;

CREATE DOMAIN CPF AS
VARCHAR(18) CHARACTER SET NONE;

CREATE DOMAIN DATA AS
TIMESTAMP;

CREATE DOMAIN DINHEIRO AS
NUMERIC(18,2);

CREATE DOMAIN DOCUMENTO AS
VARCHAR(20) CHARACTER SET NONE;

CREATE DOMAIN EAN13 AS
VARCHAR(13) CHARACTER SET NONE
NOT NULL;

CREATE DOMAIN ENDERECO AS
VARCHAR(50) CHARACTER SET NONE;

CREATE DOMAIN ESTADO AS
VARCHAR(25) CHARACTER SET NONE;

CREATE DOMAIN ESTOQUE AS
INTEGER;

CREATE DOMAIN IMAGEM AS
BLOB SUB_TYPE 0 SEGMENT SIZE 80;

CREATE DOMAIN NOME AS
VARCHAR(51) CHARACTER SET NONE;

CREATE DOMAIN PORCENTAGEM AS
DOUBLE PRECISION;

CREATE DOMAIN PRODURO AS
VARCHAR(30) CHARACTER SET NONE;

CREATE DOMAIN RG AS
VARCHAR(25) CHARACTER SET NONE;

CREATE DOMAIN TELEFONE AS
VARCHAR(20) CHARACTER SET NONE;

CREATE DOMAIN TEXTO AS
BLOB SUB_TYPE 1 SEGMENT SIZE 80 CHARACTER SET NONE;

CREATE DOMAIN UF AS
VARCHAR(2) CHARACTER SET NONE;

CREATE DOMAIN UNIDADE AS
VARCHAR(10) CHARACTER SET NONE;



/******************************************************************************/
/****                                Tables                                ****/
/******************************************************************************/



CREATE TABLE CEPS (
    CODIGO    CODIGO /* CODIGO = INTEGER NOT NULL */,
    NOME_CID  CIDADE /* CIDADE = VARCHAR(25) */,
    CEP_CID   CEP /* CEP = VARCHAR(10) */,
    ESTADO    ESTADO /* ESTADO = VARCHAR(25) */,
    UF        UF /* UF = VARCHAR(2) */
);

CREATE TABLE CLIENTES (
    COD_CLIE          CODIGO /* CODIGO = INTEGER NOT NULL */,
    DATA_CADASTRO     DATA /* DATA = TIMESTAMP */,
    DATA_ATUALIZADO   DATA /* DATA = TIMESTAMP */,
    CLIENTE           NOME /* NOME = VARCHAR(51) */,
    APELIDO           VARCHAR(25) CHARACTER SET NONE,
    RG                RG /* RG = VARCHAR(25) */,
    CPF               CPF /* CPF = VARCHAR(18) */,
    IE                VARCHAR(11) CHARACTER SET NONE,
    DATA_NASCIMENTO   DATA /* DATA = TIMESTAMP */,
    PAI               NOME /* NOME = VARCHAR(51) */,
    MAE               NOME /* NOME = VARCHAR(51) */,
    ENDERECO          ENDERECO /* ENDERECO = VARCHAR(50) */,
    TELEFONE          TELEFONE /* TELEFONE = VARCHAR(20) */,
    CIDADE            CIDADE /* CIDADE = VARCHAR(25) */,
    BAIRRO            BAIRRO /* BAIRRO = VARCHAR(30) */,
    CEP               CEP /* CEP = VARCHAR(10) */,
    ESTADO            ESTADO /* ESTADO = VARCHAR(25) */,
    UF                UF /* UF = VARCHAR(2) */,
    PONTO_REFERENCIA  ENDERECO /* ENDERECO = VARCHAR(50) */,
    OBS               TEXTO /* TEXTO = BLOB SUB_TYPE 1 SEGMENT SIZE 80 */,
    FOTO              IMAGEM /* IMAGEM = BLOB SUB_TYPE 0 SEGMENT SIZE 80 */,
    NOME_EMPRESARIAL  VARCHAR(116) CHARACTER SET NONE,
    NOME_FANTASIA     VARCHAR(56) CHARACTER SET NONE,
    CONTATO           NOME /* NOME = VARCHAR(51) */,
    RAMO_ATIVIDADE    VARCHAR(30) CHARACTER SET NONE,
    FAX               TELEFONE /* TELEFONE = VARCHAR(20) */,
    EMAIL             NOME /* NOME = VARCHAR(51) */,
    NOME_USUARIO      VARCHAR(20) CHARACTER SET NONE NOT NULL,
    TIPO              VARCHAR(2) CHARACTER SET NONE
);

CREATE TABLE CONTAS (
    COD_CONT         CODIGO /* CODIGO = INTEGER NOT NULL */,
    COD_TITO         CODIGO /* CODIGO = INTEGER NOT NULL */,
    COD_VEND         CODIGO /* CODIGO = INTEGER NOT NULL */,
    COD_CLIE         CODIGO /* CODIGO = INTEGER NOT NULL */,
    TITULO_TIPO      VARCHAR(5) CHARACTER SET NONE,
    CARNE_NUMERO     CODIGO /* CODIGO = INTEGER NOT NULL */,
    DATA_VENCIMENTO  DATA /* DATA = TIMESTAMP */,
    PARCELA          VARCHAR(5) CHARACTER SET NONE,
    SITUACAO         VARCHAR(9) CHARACTER SET NONE,
    DATA_PAGAMENTO   DATA /* DATA = TIMESTAMP */,
    VALOR_PAGO       DINHEIRO /* DINHEIRO = NUMERIC(18,2) */,
    NOME_USUARIO     VARCHAR(20) CHARACTER SET NONE NOT NULL,
    DOCUMENTO        DOCUMENTO /* DOCUMENTO = VARCHAR(20) */
);

CREATE TABLE ESTOQUE (
    COD_ESTO            CODIGO /* CODIGO = INTEGER NOT NULL */,
    CODIGO              EAN13 /* EAN13 = VARCHAR(13) NOT NULL */,
    CATEGORIA_PRODUTO   CATEGORIA /* CATEGORIA = VARCHAR(20) */,
    DESCRICAO           PRODURO /* PRODURO = VARCHAR(30) */,
    UNIDADE_ESTOQUE     UNIDADE /* UNIDADE = VARCHAR(10) */,
    QUANTIDADE_ESTOQUE  ESTOQUE /* ESTOQUE = INTEGER */,
    ESTOQUE_MINIMO      ESTOQUE /* ESTOQUE = INTEGER */,
    VALOR_CUSTO         DINHEIRO /* DINHEIRO = NUMERIC(18,2) */,
    LUCRO_PRODUTO       PORCENTAGEM /* PORCENTAGEM = DOUBLE PRECISION */,
    IMPOSTO_PRODUTO     PORCENTAGEM /* PORCENTAGEM = DOUBLE PRECISION */,
    VALOR_LUCRO         DINHEIRO /* DINHEIRO = NUMERIC(18,2) */,
    VALOR_VENDA         DINHEIRO /* DINHEIRO = NUMERIC(18,2) */,
    FORNECEDOR          NOME /* NOME = VARCHAR(51) */
);

CREATE TABLE ETIQUETA (
    COD_ETIQ     CODIGO /* CODIGO = INTEGER NOT NULL */,
    CODIGO       EAN13 /* EAN13 = VARCHAR(13) NOT NULL */,
    DESCRICAO    PRODURO /* PRODURO = VARCHAR(30) */,
    VALOR_VENDA  DINHEIRO /* DINHEIRO = NUMERIC(18,2) */
);

CREATE TABLE ITEM (
    COD_ITEM           CODIGO /* CODIGO = INTEGER NOT NULL */,
    COD_VEND           CODIGO /* CODIGO = INTEGER NOT NULL */,
    CODIGO             EAN13 /* EAN13 = VARCHAR(13) NOT NULL */,
    CATEGORIA_PRODUTO  CATEGORIA /* CATEGORIA = VARCHAR(20) */,
    DESCRICAO          PRODURO /* PRODURO = VARCHAR(30) */,
    QUANTIDADE         ESTOQUE /* ESTOQUE = INTEGER */,
    VALOR_UNITARIO     DINHEIRO /* DINHEIRO = NUMERIC(18,2) */
);

CREATE TABLE TITULOS (
    COD_TITO         CODIGO /* CODIGO = INTEGER NOT NULL */,
    COD_VEND         CODIGO /* CODIGO = INTEGER NOT NULL */,
    COD_CLIE         CODIGO /* CODIGO = INTEGER NOT NULL */,
    CLIENTE          NOME /* NOME = VARCHAR(51) */,
    RG               RG /* RG = VARCHAR(25) */,
    CPF              CPF /* CPF = VARCHAR(18) */,
    TITULO_TIPO      VARCHAR(5) CHARACTER SET NONE,
    CARNE_NUMERO     CODIGO /* CODIGO = INTEGER NOT NULL */,
    DATA_VENCIMENTO  DATA /* DATA = TIMESTAMP */,
    DATA_EMISSAO     DATA /* DATA = TIMESTAMP */,
    PARCELA          VARCHAR(5) CHARACTER SET NONE,
    PARCELAS         CODIGO /* CODIGO = INTEGER NOT NULL */,
    SITUACAO         VARCHAR(9) CHARACTER SET NONE,
    DATA_PAGAMENTO   DATA /* DATA = TIMESTAMP */,
    VALOR_PARCELA    DINHEIRO /* DINHEIRO = NUMERIC(18,2) */,
    ACRESCIMO        DINHEIRO /* DINHEIRO = NUMERIC(18,2) */,
    DESCONTO         DINHEIRO /* DINHEIRO = NUMERIC(18,2) */,
    VALOR_PAGO       DINHEIRO /* DINHEIRO = NUMERIC(18,2) */,
    DOCUMENTO        DOCUMENTO /* DOCUMENTO = VARCHAR(20) */
);

CREATE TABLE USUARIOS (
    NOME_USUARIO  VARCHAR(20) CHARACTER SET NONE NOT NULL,
    SENHA         VARCHAR(15) CHARACTER SET NONE,
    ANTERIOR      VARCHAR(15) CHARACTER SET NONE
);

CREATE TABLE VENDAS (
    COD_VEND      CODIGO /* CODIGO = INTEGER NOT NULL */,
    DATA_VENDA    DATA /* DATA = TIMESTAMP */,
    CLIENTE       NOME /* NOME = VARCHAR(51) */,
    VENDEDOR      NOME /* NOME = VARCHAR(51) */,
    NOME_USUARIO  VARCHAR(20) CHARACTER SET NONE NOT NULL,
    TIPO          VARCHAR(20) CHARACTER SET NONE,
    FORMA         VARCHAR(20) CHARACTER SET NONE,
    SUB_TOTAL     DINHEIRO /* DINHEIRO = NUMERIC(18,2) */,
    DESCONTO      DINHEIRO /* DINHEIRO = NUMERIC(18,2) */,
    VALOR_TOTAL   DINHEIRO /* DINHEIRO = NUMERIC(18,2) */
);



/******************************************************************************/
/****                             Primary Keys                             ****/
/******************************************************************************/

ALTER TABLE CLIENTES ADD PRIMARY KEY (COD_CLIE);
ALTER TABLE CONTAS ADD PRIMARY KEY (COD_CONT);
ALTER TABLE ESTOQUE ADD PRIMARY KEY (CODIGO);
ALTER TABLE ETIQUETA ADD PRIMARY KEY (COD_ETIQ);
ALTER TABLE ITEM ADD PRIMARY KEY (COD_VEND);
ALTER TABLE TITULOS ADD PRIMARY KEY (COD_TITO);
ALTER TABLE USUARIOS ADD PRIMARY KEY (NOME_USUARIO);
ALTER TABLE VENDAS ADD PRIMARY KEY (COD_VEND);
COMMIT WORK;
